function init(){container=document.createElement("div"),document.getElementById("main-page").appendChild(container),Perspective_Camera(),scene=new THREE.Scene;for(var a=new THREE.CubeGeometry(10,10,10),b=$(window).width(),c=Math.floor(b/1600*110),d=0;c>d;d++){var e=new THREE.MeshBasicMaterial({color:16722694,opacity:.5,wireframe:!0}),f=new THREE.Mesh(a,e);f.position.x=800*Math.random()-400,f.position.y=800*Math.random()-400,f.position.z=800*Math.random()-400,f.scale.x=2*Math.random()+1,f.scale.y=2*Math.random()+1,f.scale.z=2*Math.random()+1,f.rotation.x=2*Math.random()*Math.PI,f.rotation.y=2*Math.random()*Math.PI,f.rotation.z=2*Math.random()*Math.PI,scene.add(f)}renderer=new THREE.CanvasRenderer,renderer.setSize(window.innerWidth,window.innerHeight),container.appendChild(renderer.domElement),window.addEventListener("resize",onWindowResize,!1)}function onWindowResize(){camera.aspect=window.innerWidth/window.innerHeight,camera.updateProjectionMatrix(),renderer.setSize(window.innerWidth,window.innerHeight)}function chaos(a,b){var c=a/4,d=3*a+c;switch(1==checker&&"mix"!=b&&(d=0,checker=0),b){case"line":setTimeout(playLine,d);break;case"circle":setTimeout(playCircle,d);break;case"cube":setTimeout(playCube,d);break;case"spiral":setTimeout(playSpiral,d);break;case"mix":checker=1}if(0!=d)for(var e=0;e<scene.children.length;e++)new TWEEN.Tween(scene.children[e].position).to({x:800*Math.random()-400,y:800*Math.random()-400,z:800*Math.random()-400},a).easing(TWEEN.Easing.Elastic.Out).start(),new TWEEN.Tween(scene.children[e].rotation).to({x:2*Math.random()*Math.PI,y:2*Math.random()*Math.PI,z:2*Math.random()*Math.PI},a).delay(a).easing(TWEEN.Easing.Elastic.Out).start(),new TWEEN.Tween(scene.children[e].scale).to({x:5*Math.random()+1,y:5*Math.random()+1,z:5*Math.random()+1},a).delay(2*a+c).easing(TWEEN.Easing.Elastic.Out).start()}function changeManyColors(){for(var a=scene.children.length,b=0;a>b;b++)new TWEEN.Tween(scene.children[b].material.color).to({b:Math.random(),g:Math.random(),r:Math.random()},1e3).easing(TWEEN.Easing.Elastic.Out).start()}function changeFourColors(){for(var a=scene.children.length,b=0;a>b;b++)switch(b%4){case 0:new TWEEN.Tween(scene.children[b].material.color).to({b:0,g:.84,r:.18},1e3).easing(TWEEN.Easing.Elastic.Out).start();break;case 1:new TWEEN.Tween(scene.children[b].material.color).to({b:0,g:1,r:1},1e3).easing(TWEEN.Easing.Elastic.Out).start();break;case 2:new TWEEN.Tween(scene.children[b].material.color).to({b:1,g:0,r:0},1e3).easing(TWEEN.Easing.Elastic.Out).start();break;case 3:new TWEEN.Tween(scene.children[b].material.color).to({b:0,g:0,r:1},1e3).easing(TWEEN.Easing.Elastic.Out).start()}}function playLine(){for(var a=0;a<scene.children.length;a++)new TWEEN.Tween(scene.children[a].position).to({x:-500+30*a,y:0,z:0},1e3).easing(TWEEN.Easing.Elastic.Out).start(),new TWEEN.Tween(scene.children[a].rotation).to({x:0,y:0,z:0},1e3).delay(1e3).easing(TWEEN.Easing.Elastic.Out).start(),new TWEEN.Tween(scene.children[a].scale).to({x:1,y:1,z:1},1e3).delay(2250).easing(TWEEN.Easing.Elastic.Out).start()}function playCircle(){for(var a=300,b=scene.children.length,c=2*Math.PI/b,d=0;b>d;d++)new TWEEN.Tween(scene.children[d].position).to({x:a*Math.cos(c*d),y:a*Math.sin(c*d),z:0},1e3).easing(TWEEN.Easing.Elastic.Out).start(),new TWEEN.Tween(scene.children[d].rotation).to({x:0,y:0,z:0},1e3).delay(1e3).easing(TWEEN.Easing.Elastic.Out).start(),new TWEEN.Tween(scene.children[d].scale).to({x:.8,y:.8,z:.8},1e3).delay(2250).easing(TWEEN.Easing.Elastic.Out).start()}function playCube(){var a=5;console.log(a);for(var b=0;a>b;b++)for(var c=0;a>c;c++)for(var d=0;a>d;d++)new TWEEN.Tween(scene.children[b*a*a+c*a+d].position).to({x:-100+60*b,y:-100+60*c,z:-100+60*d},1e3).easing(TWEEN.Easing.Elastic.Out).start(),new TWEEN.Tween(scene.children[b*a*a+c*a+d].rotation).to({x:0,y:0,z:0},1e3).delay(1e3).easing(TWEEN.Easing.Elastic.Out).start(),new TWEEN.Tween(scene.children[b*a*a+c*a+d].scale).to({x:1,y:1,z:1},1e3).delay(2250).easing(TWEEN.Easing.Elastic.Out).start()}function playSpiral(){var a=30,b=scene.children.length,c=2*Math.PI/b;c*=30;for(var d=0;b>d;d++)new TWEEN.Tween(scene.children[d].position).to({x:a*Math.cos(c*d),y:a*Math.sin(c*d),z:10*d},1e3).easing(TWEEN.Easing.Elastic.Out).start(),new TWEEN.Tween(scene.children[d].rotation).to({x:0,y:0,z:0},1e3).delay(1e3).easing(TWEEN.Easing.Elastic.Out).start(),new TWEEN.Tween(scene.children[d].scale).to({x:.8,y:.8,z:.8},1e3).delay(2250).easing(TWEEN.Easing.Elastic.Out).start()}function Perspective_Camera(){var a=40,b=window.innerWidth/window.innerHeight,c=1,d=1e4;camera=new THREE.PerspectiveCamera(a,b,c,d),camera.position.set(0,300,500)}function animate(){requestAnimationFrame(animate),render()}function render(){TWEEN.update(),theta+=.1,camera.position.x=radius*Math.sin(THREE.Math.degToRad(theta)),camera.position.y=radius*Math.sin(THREE.Math.degToRad(theta)),camera.position.z=radius*Math.cos(THREE.Math.degToRad(theta)),camera.lookAt(scene.position),renderer.render(scene,camera)}var container,camera,scene,renderer,checker=1,counter=0,formation=["mix","line","circle","cube","spiral"];init(),animate(),window.setInterval(function(){chaos(750,formation[counter]),4>counter?counter++:counter=0},1e4);var radius=600,theta=0;